<!doctype html>
<html lang="en">
  <head>
    <!---
    Summary of JavaScript functions with a redistributable license:
    
    JavaScript            License
    ********************  ***************
    Array.prototype.map   Public Domain
    window.Crypto         BSD License
    window.Crypto.Scrypt  MIT License
    window.SecureRandom   BSD License
    window.EllipticCurve  BSD License
    window.BigInteger     BSD License
    window.Bitcoin        MIT License
    window.Bitcoin.BIP38  MIT License
    window.UAParser       MIT License

    Framework             License
    *******************   **************
    Boostrap              Apache License

    The software is available under The MIT License (MIT)

    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and 
    associated documentation files (the "Software"), to deal in the Software without restriction, including 
    without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or 
    sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject 
    to the following conditions:

    The above copyright notice and this permission notice shall be included in all copies or substantial 
    portions of the Software.

    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT 
    LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. 
    IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, 
    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE 
    SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

    -->

    <title>BitcoinContract.net - Trustless Bitcoin Escrows</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="css/bootstrap.css" rel="stylesheet"></link>
    <link href="css/bootstrap-responsive.css" rel="stylesheet"></link>
    <link href="css/bit2factor.css" rel="stylesheet"></link>

    <script src="js/array.map.js" type="text/javascript"></script>
    <script src="js/crypto.js" type="text/javascript"></script>
    <script src="js/crypto.hmac.js" type="text/javascript"></script>
    <script src="js/crypto.sha256.js" type="text/javascript"></script>
    <script src="js/crypto.pbkdf2.js" type="text/javascript"></script>
    <script src="js/crypto.aes.js" type="text/javascript"></script>
    <script src="js/crypto.blockmodes.js" type="text/javascript"></script>
    <script src="js/crypto.ripemd160.js" type="text/javascript"></script>
    <script src="js/crypto.scrypt.js" type="text/javascript"></script>
    <script src="js/securerandom.js" type="text/javascript"></script>
    <script src="js/ellipticcurve.js" type="text/javascript"></script>
    <script src="js/biginteger.js" type="text/javascript"></script>
    <script src="js/bitcoinjs-lib.base58.js" type="text/javascript"></script>
    <script src="js/bitcoinjs-lib.address.js" type="text/javascript"></script>
    <script src="js/bitcoinjs-lib.ecdsa.js" type="text/javascript"></script>
    <script src="js/bitcoinjs-lib.eckey.js" type="text/javascript"></script>
    <script src="js/bitcoinjs-lib.util.js" type="text/javascript"></script>
    <script src="js/bitcoin.bip38.js" type="text/javascript"></script>
    <script src="js/jquery.js" type="text/javascript"></script> 
    <script src="js/bootstrap.js" type="text/javascript"></script>
    <script src="js/uaparser.js" type="text/javascript"></script>
    <script src="js/bit2factor.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="container">
      <div class="row">&nbsp;</div>
      <div class="row">
        <div class="span12">
          <h2>BitcoinContract.net - Trustless Bitcoin Escrows</h2>
          <p>The <em>only</em> way to do a two-party transaction between untrusted peers (an implementation of <a href="https://en.bitcoin.it/wiki/BIP_0038">BIP38</a>)</p>
          <div class="alert alert-danger" role="alert">
	          <strong>BE AWARE!!!</strong> This site is under development and code and layout may change.  What will not change is the code underneath. So if you start a contract with another party, even if the site looks different, the functionality will remain constant and all escrow contract will proceed without interruption or interference.
          </div>
          <div class="alert alert-info">This project is a fork of the abandoned old bit2factor.org codebase.  So as the fork moves further from the original codebase, due to the project no longer being maintained, you will discover a very different user experience.</div>
          <div class="accordion" id="compatibilityNotice">
            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#compatibilityNotice" href="#collapseAlert">
                      Compatibility Notice &mdash; Please Read
                    </a>
                </div>
                <div id="collapseAlert" class="accordion-body collapse">
                    <div class="accordion-inner">
                        <p>If you encrypted your private key with Safari 6.0.x, due to a bug in the <a href="https://stackoverflow.com/questions/13147026/disabling-jit-in-safari-6-to-workaround-severe-javascript-jit-bugs">Safari 6.0.x JIT engine</a> you may need to access the <a href="git-commit-1825396c333f95422c16a60ce560022ac111449f.html">older version of bit2factor.org</a> in order to properly decrypt your key.</p>
                        <p>It is recommended that you ... </p>
                        <ul>
                          <li><strong>Do not</strong> use Safari 6.0.x</li>
                          <li><strong>Do</strong> run the BIP38 test suite</li>
                          <li><strong>Test</strong> the decryption with different browsers before sending coins to an address.</li>
                        </ul>
                    </div>
                </div>
            </div>
          </div>
          <div class="accordion" id="accordion2">
            <h3>Trustless Escrow Four Step Process</h3>
            <div class="accordion-group">
                <div class="accordion-heading">
	                
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseOne">
                      <h2><strong>Step #1</strong> - Initiate the Escrow Process <small><em>(This step to be completed by Bitcoin RECEIVER)</em></small></h2>
                    </a>

                </div>
                <div id="collapseOne" class="accordion-body collapse in">
                    <div class="accordion-inner">
	                    <p>The person who will be receiving the Bitcoin payment should create a unique passphrase that ONLY YOU, the receiver of the payment, should be in possession. This passphrase is used to generate an encrypted private key that the sender of the Bitcoins will not have access.</p>
	                    <p><strong>IMPORTANT!</strong> - You will need to remember the passphrase you use because this passphrase is the ONLY way you can verify the transaction is confirmed as well as the ONLY way to withdraw the Bitcoins out of the escrow wallet.</p>
                      
                      <br />
                      <form class="form-horizontal">
                      <div class="control-group">
                        <label class="control-label" for="rec-genint-passphrase">Passphrase</label>
                        <div class="controls">
                          <input autocomplete="off" id="rec-genint-passphrase" placeholder=" Enter a passphrase" class="span8" />
                        </div>
                      </div>
                      <div class="form-actions">
                        <button id="rec-genint-gen" class="btn btn-primary" data-loading-text=" ... Generating ... ">Generate Escrow Code</a>
                      </div>
                      <div class="control-group">
                        <label class="control-label" for="rec-genint-intermediate">Escrow Code</label>
                        <div class="controls">
                          <input id="rec-genint-intermediate" placeholder=" ... not yet generated ... " class="span8" />
                        </div>
                      </div>
                      <p class="muted">Once you have generated an <strong>Escrow Code</strong>, you can send that code to the other party and have them visit <a href="http://bitcoincontract.net">BitcoinContract.net</a> and select Step #2.</p>    
                    </div>
                  </form>
              </div>
            </div>


            <div class="accordion-group">
                <div class="accordion-heading">
	                
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseTwo">
                      <h2><strong>Step #2</strong> - Setup Bitcoin Address for Transaction <small><em>(This step completed by bitcoin SENDER)</em></small></h2>
                    </a>
                </div>
                <div id="collapseTwo" class="accordion-body collapse">
                    <div class="accordion-inner">
	                    <p>You should have received an <strong>Escrow Code</strong> from the other party in the contract. You need to copy/paste that code EXACTLY as you received from the other party. Press the "Generate All" button and wait for the three fields below to be generated.</p>
		                    
                      <form class="form-horizontal">
                      <div class="control-group">
                        <label class="control-label" for="send-gencon-intermediate">Escrow Code</label>
                        <div class="controls">
                          <input id="send-gencon-intermediate" placeholder=" Enter the Escrow Code" class="span8" />
                        </div>
                      </div>
                          <div class="form-actions">
                            <button id="send-gencon-enc" class="btn btn-primary" data-loading-text=" ... Generating ... ">Generate All</a>
                          </div>            
                      <div class="control-group">
                        <label class="control-label" for="send-gencon-address">Bitcoin Address</label>
                        <div class="controls">
                          <input id="send-gencon-address" placeholder=" ... not yet generated ... " class="span8" />
                        </div>
                      </div>
                      <div class="control-group">
                        <label class="control-label" for="send-gencon-confirmation">Confirmation Code</label>
                        <div class="controls">
                          <input id="send-gencon-confirmation" placeholder=" ... not yet generated ... " class="span8" />
                        </div>
                      </div>
                      <div class="control-group">
                        <label class="control-label" for="send-gencon-privatekey">Encrypted Private Key</label>
                        <div class="controls">
                          <input id="send-gencon-privatekey" placeholder=" ... not yet generated ... " class="span8" />
                        </div>
                      </div>
                      <p class="muted">Now that you have the three fields above filed out you will need to save each of these fields.  You should immediately send the <strong>Bitcoin Address</strong> and the <strong>Confirmation Code</strong> to the other party in the contract. The Confirmation Code will allow the other party to verify that everyone has the correct information. This will allow the other party to watch on the <a href="htps://blocktrail.com">Blockchain Explorer</a> and see when the Bitcoins you send will confirm into the generated Bitcoin wallet.</p>
                      <p class="muted"><strong>Do not</strong> give the other party the encrypted key yet, until you are ready to release the Bitcoins due to the fulfillment of the contract from the other party's side.</p>
                  </form>
                </div>
              </div>
            </div>


            <div class="accordion-group">
                <div class="accordion-heading">
	                
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseThree">
                      <h2><strong>Step #3</strong> - Verify Bitcoin Has Been Sent <small><em>(This step to be used by Bitcoin RECEIVER)</em></small></h2>
                    </a>
                </div>
                <div id="collapseThree" class="accordion-body collapse">
                    <div class="accordion-inner">
	                    <p>At this point the sender of the Bitcoins will have given you a <strong>Confirmation Code</strong> and a <strong>Bitcoin Address</strong>.  You will use the Confirmation Code along with the original passphrase you created during Step #1 to verify that everything is properly in order.  You can now watch on the <a href="htps://blocktrail.com">Blockchain Explorer</a> to see when the Bitcoins confirm to the escrow wallet. (This is done by putting the Escrow Bitcoin Address in a Blockchain explorer search box.).
                      <p>Use your original passphrase and the confirmation code provided by the other party to verify that the address generated was based on your passphrase.</p>
                      <p>Once verified, the other party can send coins to the address. You will not have access to the coins until the other party sends you the encrypted private key.</p>
                      <form class="form-horizontal">
                      <div class="control-group">
                        <label class="control-label" for="rec-vercon-passphrase">Passphrase</label>
                        <div class="controls">
                          <input autocomplete="off" id="rec-vercon-passphrase" placeholder=" Enter your passphrase" class="span8" />
                        </div>
                      </div>
                      <div class="control-group">
                        <label class="control-label" for="rec-vercon-confirmation">Confirmation Code</label>
                        <div class="controls">
                          <input autocomplete="off" id="rec-vercon-confirmation" placeholder=" Enter the confirmation code"  class="span8" />
                        </div>
                      </div>
                          <div class="form-actions">
                            <button id="rec-vercon-verify" class="btn btn-primary" data-loading-text=" ... Verifying ... ">Verify Confirmation Code</a>
                          </div>
                        <p class="muted">Once the other party receives your product or service they will send you the <strong>Encrypted Private Key</strong>.  At this point you can continue to Step #4.</p>
                  </form>
                </div>
              </div>
            </div>


            <div class="accordion-group">
                <div class="accordion-heading">
	                
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseFour">
                      <h2><strong>Step #4</strong> - Transfer Bitcoin Out of Escrow <small><em>(This step to be used by Bitcoin RECEIVER)</em></small></h2>
                    </a>
                </div>
                <div id="collapseFour" class="accordion-body collapse">
                    <div class="accordion-inner">
                      <p>Finally, using the initial passphrase from Step #1 and the Encrypted Private Key the other party in the transaction sent you you can decrypt the private key of the Escrow Bitcoin address.</p>
                      <form class="form-horizontal">
                      <div class="control-group">
                        <label class="control-label" for="rec-decenc-passphrase">Passphrase</label>
                        <div class="controls">
                          <input autocomplete="off" id="rec-decenc-passphrase" placeholder=" Enter your passphrase" class="span8" />
                        </div>
                      </div>
                      <div class="control-group">
                        <label class="control-label" for="rec-decenc-privatekey">Encrypted Private Key</label>
                        <div class="controls">
                          <input autocomplete="off" id="rec-decenc-privatekey" placeholder=" Enter the encrypted private key" class="span8" />
                        </div>
                      </div>
                      <div class="form-actions">
                        <button id="rec-decenc-decrypt" class="btn btn-primary" data-loading-text=" ... Decrypting ... ">Decrypt Private Key</button>
                      </div>
                      <div class="control-group">
                        <label class="control-label" for="rec-decenc-address">Address</label>
                        <div class="controls">
                          <input autocomplete="off" id="rec-decenc-address" placeholder=" ... not yet decrypted ... " class="span8" />
                        </div>
                      </div>
                      <div class="control-group">
                        <label class="control-label" for="rec-decenc-wif">Private Key (WIF)</label>
                        <div class="controls">
                          <input autocomplete="off" id="rec-decenc-wif" placeholder=" ... not yet decrypted ... " class="span8" />
                        </div>
                      </div>
                      <p class="muted">Now you can proceed to your regular Bitcoin wallet and import the private key and transfer the Bitcoins that are sitting in the Escrow Bitcoin address.</p>
                      <p class="muted"><strong>** Congratulations on a successful trustless Bitcoin transaction. **</strong></p>
                  </form>
                </div>
              </div>
            </div>

            <hr />

            <h3>Encrypted Private Keys</h3>
            <div class="accordion-group">
                <div class="accordion-heading">
                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion2" href="#collapseFive">
                      <h5>Generate &amp; Encrypt Private Key - <small>(For when you want a simple method of encrypted and decrypting Bitcoin private keys according to BIB38.)</small></h5>
                    </a>
                </div>
                <div id="collapseFive" class="accordion-body collapse">
                    <div class="accordion-inner">
                      <form class="form-horizontal">
                      <div class="control-group">
                        <label class="control-label" for="encgen-passphrase">Passphrase</label>
                        <div class="controls">
                          <input autocomplete="off" id="encgen-passphrase" placeholder=" Enter your passphrase" class="span8" />
                        </div>
                      </div>
                      <div class="control-group">
                        <label class="control-label" for="encgen-uprivkey">Private Key</label>
                        <div class="controls">
                          <input autocomplete="off" id="encgen-uprivkey" placeholder=" (Optional) Enter a Private Key to Encrypt" class="span8" />
                        </div>
                      </div>
                      <div class="form-actions">
                        <button id="encgen-encrypt" class="btn btn-primary" data-loading-text=" ... Generating ... ">Generate &amp; Encrypt Private Key</button>
                      </div>
                      <div class="control-group">
                        <label class="control-label" for="encgen-address">Bitcoin Address</label>
                        <div class="controls">
                          <input id="encgen-address" placeholder=" ... not yet generated ... " class="span8" />
                        </div>
                      </div>
                      <div class="control-group">
                        <label class="control-label" for="encgen-privkey">Encrypted Key</label>
                        <div class="controls">
                          <input id="encgen-privkey" placeholder=" ... not yet generated ... " class="span8" />
                        </div>
                      </div>
                      </form>
                    </div>
                </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="span12">
          <hr />
          <p><button id="run-tests" class="btn btn-primary btn-small" data-loading-text=" ... Running Tests ... ">Run BIP38 Test Suite</button></p>
          <p class="muted">The test suite does take some time to complete so please be patient.</p>
        </div>
      </div>
<!--
      <div class="row">
        <div class="span12">
          <hr />
          <p><small>
            <span class="pull-right">
              <a href="https://github.com/mannkind/bit2factor.org">View Source Code</a>
            </span>
          </small></p>
        </div>
      </div>
--!> 
   </div>

    <div id="rec-vercon-modal" class="modal hide fade">
      <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h3>Verification Result</h3>
      </div>
      <div class="modal-body">
          <p id="rec-vercon-verification"> ... not yet verified ... </p>
      </div>
      <div class="modal-footer">
          <a href="#" class="btn" data-dismiss="modal">Close</a>
      </div>
    </div>

    <div id="run-tests-modal" class="modal hide fade">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>BIP38 Test Results</h3>
      </div>
      <div class="modal-body">
        <p> ... tests not yet completed ... </p>
      </div>
      <div class="modal-footer">
        <a href="#" class="btn" data-dismiss="modal">Close</a>
      </div>
    </div>

  </body>
</html>
